(this["webpackJsonpmoviedb-react"]=this["webpackJsonpmoviedb-react"]||[]).push([[0],{141:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/abstract_movie_poster.016bd1f8.svg"},169:function(e,t,n){},223:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),o=n.n(i),c=(n(169),n(54)),s=n(20),l=n(14),d=n(280),u=n(281),h=n(112),b=n.n(h),j=n(144),p=n(91),v=n.n(p),g=function(){var e=0;return function(){return e++}}();function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return Array.isArray(e)?e.forEach((function(e){return m(e,t,n)})):"string"===typeof e?n({type:e,payload:t}):"function"===typeof e?e(n,t):void console.error("'action' prop must be a string or function, but got: "+typeof e)}function O(){return{id:"TASK-"+g(),isCancelled:!1,isDone:!1,_handlers:{cancel:[],done:[]},cancel:function(){var e=this;Object.isFrozen(this)||(this.isCancelled=!0,this._handlers.cancel.forEach((function(t){return t&&t(e)})))},done:function(){var e=this;this.isDone=!0,this._handlers.done.forEach((function(t){return t&&t(e)})),Object.freeze(this)},subscribe:function(e,t){this._handlers[e].push(t)},unsubscribe:function(e,t){this._handlers[e]=this._handlers[e].filter((function(e){return e!==t}))}}}O.events={DONE:"done",CANCEL:"cancel"};var f="4e44d9029b1270a757cddc766a1bcb63",x="MOVIEDB_MIDDLEWARE",y="MovieDB Api Middleware";function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return v()({baseURL:"https://api.themoviedb.org/3/",url:e,method:"get",cancelToken:n.token,params:Object.assign({},{api_key:f,language:"en-US"},t),timeout:15e3})}var M="GENRES_FETCH_REQUEST",_="GENRES_FETCH_SUCCESS",S="GENRES_FETCH_FAIL",I="ADD_ERROR",F="REMOVE_ERROR";var C=n(98);var w=n(258),R=n(2),A=[];var k=Object(C.b)(Object(s.c)((function(e){return{errors:e.ui.errors}}),(function(e){return{removeError:function(t){return e({type:F,payload:{error:t}})}}}))((function(e){var t=e.enqueueSnackbar,n=e.closeSnackbar,r=e.removeError,i=e.errors,o=void 0===i?[]:i;return Object(a.useEffect)((function(){o.forEach((function(e){A.includes(e.id)||(t(e.message,{key:e.id,variant:"error",action:function(e){return Object(R.jsx)(w.a,{onClick:function(){return n(e)},children:"OK"})},onExited:function(t,n,a){A.splice(A.indexOf(e.id),1),r(e)}}),A.push(e.id))}))}),[o,n,t,r]),null}))),T=n(28),N=n(265),D=n(283),L=n(264),H=n(6),U=n(53),V=n.n(U),P=n(257),G=n(99),B=n(17),z="#999",q="#d63737",W="#a7a7a7",Q="#5fbb67",J="#3bb33b";function Y(e){var t=J;return e&&0!==e?e<5.5?t=q:e<6.5?t=W:e<7.25&&(t=Q):t=z,t}var $=n(47),K=n.n($),X=n(111),Z=n.n(X),ee=n(148),te=n.n(ee),ne=Object(P.a)((function(e){return{root:{position:"relative",boxShadow:"none",textDecoration:"none",color:"inherit","&:hover":{"& $posterImage":{transform:"scale(1.075)"},"& $posterOverlay":{opacity:1},"& $favoriteBtn":{display:"flex"}}},posterContainer:{position:"relative",overflow:"hidden"},posterImage:{position:"relative",display:"block",width:"100%",minHeight:250,borderRadius:"4px",backgroundColor:"#e8e8e8",transition:"all 0.15s ease-in-out"},posterOverlay:{position:"absolute",content:'""',width:"100%",height:"100%",left:0,top:0,opacity:0,transition:"all 0.15s ease-in-out",background:"linear-gradient(180deg, rgba(255,255,255,0) 41%, rgba(0,0,0,0.40) 100%)"},details:{padding:"6px 4px"},movieName:{fontWeight:"normal",margin:"4px 0 8px 0",lineHeight:"140%"},score:Object(T.a)({display:"inline-flex",position:"absolute",left:-5,top:8,justifyContent:"center",fontWeight:"bold",padding:"2px 8px",minWidth:30,color:"white",background:"#83d620",borderRadius:2},e.breakpoints.down("xs"),{left:-8,top:12,fontSize:"1.5rem",minWidth:40}),extraInfo:{color:"grey",lineHeight:"150%"},favoriteBtn:Object(T.a)({display:"none",position:"absolute",right:10,top:10,minWidth:16,paddingLeft:e.spacing(1),paddingRight:e.spacing(1),color:"white",background:"rgba(75, 87, 95, 0.9)","&:hover":{background:"rgba(245, 0, 87, 1)"}},e.breakpoints.down("xs"),{display:"flex",padding:e.spacing(2.5),"& svg":{height:e.spacing(4),width:e.spacing(4)}}),favoriteBtnActive:{display:"flex",color:"white",background:"rgba(245, 0, 87, 1)","&:hover":{background:"rgba(245, 0, 87, 0.85)"}}}}));var ae=function(e){var t=e.id,n=e.title,a=e.genres,r=e.voteAverage,i=e.releaseDate,o=e.posterImageUrl,c=e.isFavorite,s=e.onFavorite,l=ne(),d=Y(r),u=r>0?r:"-";return Object(R.jsxs)(B.a,{className:l.root,to:"/movie/"+t,children:[Object(R.jsxs)("div",{className:l.posterContainer,children:[Object(R.jsx)("img",{className:l.posterImage,src:o,alt:n}),Object(R.jsx)("div",{className:l.posterOverlay}),Object(R.jsx)(w.a,{variant:"contained",color:"secondary",size:"medium",onClick:function(e){e.stopPropagation(),e.preventDefault(),s&&s(t)},className:te()([l.favoriteBtn,Object(T.a)({},l.favoriteBtnActive,c)]),children:c?Object(R.jsx)(K.a,{}):Object(R.jsx)(Z.a,{})})]}),Object(R.jsxs)("div",{className:l.details,children:[Object(R.jsx)(G.a,{component:"h4",className:l.movieName,children:n}),Object(R.jsx)(G.a,{variant:"body1",className:l.score,style:{backgroundColor:d},children:u}),Object(R.jsxs)(G.a,{variant:"body1",className:l.extraInfo,children:[new Date(i).getFullYear()," \u2022 ",a.length?a.slice(0,3).join(", "):"-"]})]})]})},re=n(262),ie=n(3),oe=n.n(ie),ce=(oe.a.shape({id:oe.a.oneOfType([oe.a.string,oe.a.number]).isRequired,title:oe.a.string.isRequired,overview:oe.a.string.isRequired,genres:oe.a.arrayOf(oe.a.string).isRequired,releaseDate:oe.a.instanceOf(Date).isRequired,voteAverage:oe.a.number.isRequired,posterImageUrl:oe.a.string,backdropImageUrl:oe.a.string,duration:oe.a.number,budget:oe.a.number,backdropImage:oe.a.string,posterImage:oe.a.string,productionCountries:oe.a.arrayOf(oe.a.string),legend:oe.a.string,actors:oe.a.arrayOf(oe.a.exact({id:oe.a.oneOfType([oe.a.string,oe.a.number]),name:oe.a.string,character:oe.a.string,gender:oe.a.number,photo:oe.a.string})),crew:oe.a.arrayOf(oe.a.exact({id:oe.a.oneOfType([oe.a.number,oe.a.string]),name:oe.a.string,department:oe.a.string,job:oe.a.string,gender:oe.a.number,photo:oe.a.string})),isExtendedDataLoaded:oe.a.bool}),n(263)),se=n(286),le=n(260);function de(){return Object(R.jsxs)(se.a,{children:[Object(R.jsx)(le.a,{variant:"rect",width:"100%",height:270}),Object(R.jsx)(le.a,{variant:"rect",style:{marginTop:15},width:"100%"}),Object(R.jsx)(le.a,{variant:"rect",style:{marginTop:8},width:"70%"})]})}var ue=n(261),he=Object(P.a)((function(e){return{item:Object(T.a)({cursor:"pointer",padding:e.spacing(1),transition:"all 0.1s cubic-bezier(0.43, 0.57, 0, 0.99)",transitionDelay:"0.075s","&:hover":{background:"white",zIndex:2}},e.breakpoints.down("sm"),{padding:"15px 25px !important"})}}));function be(e){var t=e.children,n=he();return Object(R.jsx)(ue.a,{className:n.item,item:!0,xs:12,sm:4,md:2,children:t})}var je=function(e){var t=e.children;return Object(R.jsx)(ue.a,{container:!0,justify:"flex-start",wrap:"wrap",spacing:2,children:t})},pe=Object(P.a)((function(e){return{loader:{height:400,width:300,margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center"},button:{marginTop:20,color:"white",border:"1px solid white"},buttonProgress:{color:e.palette.secondary,animationDuration:"550ms",marginRight:6}}}));var ve=function(e){var t=e.movies,n=void 0===t?[]:t,a=e.isFetching,i=e.isFetched,o=e.totalMovies,c=e.placeholdersAmount,s=void 0===c?5:c,l=e.onLoadMore,d=e.onFavorite,u=pe(),h=n.length<o&&!!l;return Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsx)(je,{children:(i?n:Array.from(new Array(s))).map((function(e,t){return Object(R.jsx)(be,{children:e?Object(R.jsx)(V.a,{height:400,once:!0,placeholder:Object(R.jsx)(de,{}),children:Object(R.jsx)(ae,Object(H.a)(Object(H.a)({},e),{},{onFavorite:d}))}):Object(R.jsx)(de,{})},e?e.id:"index:"+t)}))}),h&&Object(R.jsxs)(w.a,{className:u.button,variant:"outlined",fullWidth:!0,size:"large",disabled:a,onClick:l,children:[a?Object(R.jsx)(re.a,{className:u.buttonProgress,variant:"indeterminate",disableShrink:!0,size:16,thickness:4}):Object(R.jsx)(ce.a,{className:u.buttonProgress}),a?"Loading...":"Load more"]})]})},ge="POPULAR_MOVIES_FETCH_REQUEST",me="POPULAR_MOVIES_FETCH_SUCCESS",Oe="POPULAR_MOVIES_FETCH_FAIL",fe="TOP_RATED_MOVIES_FETCH_REQUEST",xe="TOP_RATED_MOVIES_FETCH_SUCCESS",ye="TOP_RATED_MOVIES_FETCH_FAIL",Ee="UPCOMING_MOVIES_FETCH_REQUEST",Me="UPCOMING_MOVIES_FETCH_SUCCESS",_e="UPCOMING_MOVIES_FETCH_FAIL";var Se="USER_VISITED_MOVIE",Ie="USER_FAVORITE_TOGGLE",Fe="USER_CLEANED_VISITED_MOVIES";function Ce(e){return{type:Ie,payload:{id:e}}}function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w500";return e?"https://image.tmdb.org/t/p/".concat(t).concat(e):null}function Re(e,t,n){var a=t.moviesById[e];return a?Object(H.a)(Object(H.a)({},a),{},{genres:a.genreIds.map((function(e){return t.genresById[e]})),isFavorite:-1!==n.favoriteMovieIds.indexOf(e)}):null}function Ae(e){var t=e.raw,n=void 0===t?{}:t,a=e.posterSize,r=void 0===a?"w500":a,i=e.backdropSize,o=void 0===i?"original":i,c=e.extended,s=void 0!==c&&c,l={id:n.id,title:n.title,overview:n.overview,genreIds:n.genres?n.genres.map((function(e){return e.id})):n.genre_ids,voteAverage:n.vote_average,releaseDate:new Date(n.release_date),posterImageUrl:we(n.poster_path,r),backdropImageUrl:we(n.backdrop_path,o),popularity:n.popularity},d=s?{duration:n.runtime,budget:n.budget,productionCountries:(n.production_countries||[]).map((function(e){return e.name})),legend:n.tagline,actors:(n.credits||[]).cast.map((function(e){return{id:e.id,name:e.name,character:e.character,gender:e.gender,photo:we(e.profile_path)}})),crew:(n.credits||[]).crew.map((function(e){return{id:e.id,department:e.department,job:e.job,gender:e.gender,name:e.name,photo:we(e.profile_path)}})),isExtendedDataLoaded:!0}:null;return Object.assign(l,d)}var ke=n(115),Te=n.n(ke),Ne=Object(P.a)((function(e){return{movieList:{margin:"20px 0px"},container:{margin:"12px auto"}}})),De=Te()({root:{textAlign:"center",borderRadius:4,overflow:"hidden",background:"#66AD47"},indicator:{background:"none"}})(D.a),Le=Te()({root:{minWidth:110},selected:{background:"#F4BE2C",color:"white"}})(L.a),He="popular",Ue="top-rated",Ve="upcoming";var Pe=Object(s.c)((function(e){return{isAppReady:e.common.isAppReady,popularMovies:e.home.popularMovies,topRatedMovies:e.home.topRatedMovies,upcomingMovies:e.home.upcomingMovies,entities:e.entities,user:e.user}}),(function(e){return{fetchPopularMovies:function(t){return e(function(){return{type:"FETCH_POPULAR_MOVIES",payload:null,meta:{target:x,method:"GET",params:{page:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1},url:"movie/popular",handlers:{request:ge,success:me,fail:[I,Oe]}}}}(t))},fetchTopRatedMovies:function(t){return e(function(){return{type:"FETCH_TOP_RATED_MOVIES",payload:null,meta:{target:x,method:"GET",params:{page:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1},url:"movie/top_rated",handlers:{request:fe,success:xe,fail:[I,ye]}}}}(t))},fetchUpcomingMovies:function(t){return e(function(){return{type:"FETCH_UPCOMING_MOVIES",payload:null,meta:{target:x,method:"GET",params:{page:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1},url:"movie/upcoming",handlers:{request:Ee,success:Me,fail:[I,_e]}}}}(t))},toggleFavorite:function(t){return e(Ce(t))}}}))((function(e){var t,n=e.isAppReady,r=e.popularMovies,i=e.topRatedMovies,o=e.upcomingMovies,s=e.entities,l=e.user,d=e.toggleFavorite,u=e.fetchPopularMovies,h=e.fetchTopRatedMovies,b=e.fetchUpcomingMovies,j=Object(a.useState)(He),p=Object(c.a)(j,2),v=p[0],g=p[1],m=(t={},Object(T.a)(t,He,{movies:r,fetch:u}),Object(T.a)(t,Ue,{movies:i,fetch:h}),Object(T.a)(t,Ve,{movies:o,fetch:b}),t),O=m[v],f=n?O.movies.ids.map((function(e){return Re(e,s,l)})):[];function x(e){g(e);var t=m[e];t.movies.ids.length||t.fetch()}Object(a.useEffect)((function(){x(He)}),[]);var y=Ne();return Object(R.jsxs)(N.a,{className:y.container,children:[Object(R.jsxs)(De,{value:v,onChange:function(e,t){return x(t)},"aria-label":"disabled tabs example",children:[Object(R.jsx)(Le,{label:"Popular",value:He}),Object(R.jsx)(Le,{label:"Top rated",value:Ue}),Object(R.jsx)(Le,{label:"Upcoming",value:Ve})]}),Object(R.jsx)("main",{className:y.movieList,children:Object(R.jsx)(ve,{onLoadMore:function(){O.movies.totalMovies!==O.movies.ids.length&&O.fetch(O.movies.ids.length/20+1)},placeholdersAmount:10,movies:f,onFavorite:d,isFetched:O.movies.isFetched,isFetching:!n||O.movies.isFetching,totalMovies:O.movies.totalMovies})})]})})),Ge=n(268),Be=n(270),ze=n(271),qe=n(272),We=n(273),Qe=n(8),Je=n(284),Ye=n(97),$e=n.n(Ye),Ke=Object(P.a)((function(e){return{root:{position:"relative",display:"flex",flexWrap:"nowrap"},icon:{position:"absolute",left:0,top:0,display:"flex",height:"100%",width:e.spacing(7),pointerEvents:"none",alignItems:"center",justifyContent:"center"},input:{color:"inherit",paddingLeft:e.spacing(7),padding:4,transition:e.transitions.create("background"),background:"rgba(0, 0, 0, 0.05)",borderRadius:e.shape.borderRadius,width:"100%","&:focus, &:hover":{background:"rgba(0, 0, 0, 0.065)"},"&:focus":{minWidth:400}}}}));var Xe=function(e){var t=e.value,n=e.placeholder,a=e.onChange,r=e.onFocus,i=e.onBlur,o=e.style,c=Ke();return Object(R.jsxs)("div",{className:c.root,style:o,children:[Object(R.jsx)("div",{className:c.icon,children:Object(R.jsx)($e.a,{})}),Object(R.jsx)(Je.a,{className:c.input,value:t,type:"search",onChange:a,onFocus:r,onBlur:i,placeholder:n,inputProps:{"aria-label":"search"}})]})},Ze=n(266),et=n(267),tt=Object(P.a)((function(e){return{root:{position:"fixed",maxHeight:400,width:"100%",overflowY:"auto",background:"#CAD5E2",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.22)",zIndex:2}}}));var nt=Object(P.a)((function(e){return{item:Object(T.a)({height:60,padding:e.spacing(1),paddingLeft:20},e.breakpoints.down("sm"),{height:90}),itemImage:{height:"100%",borderRadius:4,overflow:"hidden",flexShrink:0},itemInfo:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vote:{display:"flex",alignItems:"center",marginLeft:"auto",marginRight:e.spacing(1),padding:e.spacing(1),height:"100%",fontWeight:"bold",fontSize:"12pt"}}}));function at(e){var t=e.movie,a=nt(),r=t.posterImageUrl||n(141),i=Y(t.voteAverage);return Object(R.jsxs)(et.a,{button:!0,component:B.a,className:a.item,to:"/movie/"+t.id,children:[Object(R.jsx)("img",{className:a.itemImage,src:r,alt:t.title}),Object(R.jsxs)("div",{className:a.itemInfo,children:[Object(R.jsxs)(G.a,{variant:"body1",children:[Object(R.jsx)("span",{style:{fontWeight:500},children:t.title}),Object(R.jsx)("span",{style:{color:"grey"},children:t.releaseDate>0?" (".concat(t.releaseDate.getFullYear(),")"):""})]}),Object(R.jsx)(G.a,{variant:"body2",component:"span",style:{color:"grey"},children:t.genres.length?t.genres.join(", "):"\u2014"})]}),Object(R.jsx)(G.a,{variant:"body2",className:a.vote,style:{color:i},children:t.voteAverage>0?t.voteAverage:"\u2014"})]})}var rt=function(e){var t=e.movies,n=void 0===t?[]:t,a=(e.fullHeight,tt());return Object(R.jsx)(r.a.Fragment,{children:Object(R.jsx)(Ze.a,{className:a.root,"aria-labelledby":"nested-list-subheader",children:n.map((function(e){return Object(R.jsx)(at,{movie:e},e.id)}))})})},it="SEARCH_REQUEST",ot="SEARCH_SUCCESS",ct="SEARCH_FAIL",st="SEARCH_CANCEL",lt="SEARCH_QUERY_CHANGED",dt={type:"DO_NOTHING"},ut={isDone:!0,isCancelled:!1};function ht(){return ut.isDone||ut.isCancelled?{type:st}:(ut.cancel(),dt)}var bt=n(269),jt=n(27),pt=Object(P.a)((function(e){return{menu:{marginRight:10},brand:{textDecoration:"none",color:"inherit"},overlay:{position:"fixed",width:"100%",height:"100vh",top:0,left:0,background:"rgba(9, 9, 10, 0.6)",zIndex:1}}})),vt=Object(Qe.a)({root:{color:"#333",background:"white",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"}})(Ge.a),gt=Object(Qe.a)((function(e){return{root:{backgroundColor:"rgba(0, 0, 0, 0.05)",marginRight:e.spacing(1),marginLeft:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}}}}))(w.a);var mt=Object(s.c)((function(e){return Object(H.a)(Object(H.a)({},e.search),{},{entities:e.entities,location:e.router.location.pathname})}),(function(e){return{searchMovies:function(t){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e&&e.trim().length?(ut.isDone||ut.isCancelled||ht(),ut=O(),{type:"MOVIES_SEARCH",payload:null,meta:{target:x,url:"search/movie",method:"GET",params:{query:e,page:t},task:ut,handlers:{request:it,success:ot,fail:[I,ct],cancel:st}}}):ut.isDone||ut.isCancelled?ht():(ut.cancel(),dt)}(t))},cancelSearch:function(){return e(ht())},changeQuery:function(t){return e(function(e){return{type:lt,payload:{query:e}}}(t))}}}))((function(e){var t=Object(jt.a)(),n=e.onMenu,i=e.query,o=e.foundMovies,s=e.entities,l=e.location,d=e.changeQuery,u=e.searchMovies,h=e.cancelSearch,b=pt(),j=Object(bt.a)(t.breakpoints.down("sm")),p=Object(a.useState)(!1),v=Object(c.a)(p,2),g=v[0],m=v[1],O=Object(a.useState)(!1),f=Object(c.a)(O,2),x=f[0],y=f[1],E=o.map((function(e){return Object(H.a)(Object(H.a)({},e),{},{genres:e.genreIds.map((function(e){return s.genresById[e]}))})})),M=Object(a.useCallback)(function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=this,i=arguments,o=function(){n=null,a||e.apply(r,i)},c=a&&!n;clearTimeout(n),n=setTimeout(o,t),c&&e.apply(r,i)}}((function(e){u(e),y(!0)}),600),[u]);function _(e){var t=e.target.value;d(t),h(),t.length&&t.trim().length<2||M(t)}return Object(a.useEffect)((function(){var e;e=!(x&&o.length),document.body.style.overflow=e?"":"hidden"}),[x,o]),Object(a.useEffect)((function(){y(!1)}),[l]),j?Object(R.jsxs)(r.a.Fragment,{children:[x&&Object(R.jsx)("div",{className:b.overlay,onClick:function(e){return y(!1)}}),Object(R.jsxs)(vt,{position:"sticky",children:[Object(R.jsxs)(Be.a,{children:[Object(R.jsx)(ze.a,{onClick:n,edge:"start",color:"inherit","aria-label":"menu",className:b.menu,children:Object(R.jsx)(qe.a,{})}),Object(R.jsx)(G.a,{variant:"h6",noWrap:!0,children:Object(R.jsx)(B.a,{to:"/",className:b.brand,children:" Movie App \ud83d\udc4b "})}),Object(R.jsx)(ze.a,{onClick:function(e){return m(!g)},style:{marginLeft:"auto"},children:Object(R.jsx)($e.a,{})})]}),g&&Object(R.jsx)("div",{style:{margin:"5px 15px 10px 15px"},children:Object(R.jsx)(Xe,{value:i,style:{width:"100%",height:50},placeholder:"Search...",onChange:_,onBlur:function(e){return!i&&y(!1)},onFocus:function(){return y(!0)}})})]}),!!E.length&&x&&Object(R.jsx)(rt,{movies:E})]}):Object(R.jsxs)(r.a.Fragment,{children:[x&&Object(R.jsx)("div",{className:b.overlay,onClick:function(e){return y(!1)}}),Object(R.jsx)(vt,{position:"sticky",style:{color:"#1FAA59",direction:"flex",backgroundColor:"#242B2E"},children:Object(R.jsxs)(Be.a,{children:[Object(R.jsx)(Xe,{className:"inputID",value:i,placeholder:"Search...",style:{marginLeft:30,width:250},onChange:_,onBlur:function(e){return!i&&y(!1)},onFocus:function(){return y(!0)}}),Object(R.jsx)(G.a,{variant:"h6",noWrap:!0,style:{marginLeft:"25vw"},children:Object(R.jsx)(B.a,{to:"/",className:b.brand,children:"Movie App \ud83d\udc4b"})}),Object(R.jsxs)("div",{style:{marginLeft:"auto"},children:[Object(R.jsx)(B.a,{to:"/",style:{textDecoration:"none"},children:Object(R.jsxs)(w.a,{style:{color:"#1FAA59",marginLeft:"24px",textDecoration:"none"},children:[Object(R.jsx)(We.a,{})," Home"]})}),Object(R.jsxs)(gt,{component:B.a,to:"/favorites",color:"inherit",children:[Object(R.jsx)(K.a,{style:{marginRight:10,fill:"#f50057"}}),"Favorites"]})]})]})}),!!E.length&&x&&Object(R.jsx)(rt,{movies:E})]})})),Ot=n(285),ft="MOVIE_PAGE_FETCH_REQUEST",xt="MOVIE_PAGE_FETCH_SUCCESS",yt="MOVIE_PAGE_FETCH_FAIL",Et="SIMILAR_MOVIES_FETCH_REQUEST",Mt="SIMILAR_MOVIES_FETCH_SUCCESS",_t="SIMILAR_MOVIES_FETCH_FAIL",St="RECOMMENDED_MOVIES_FETCH_REQUEST",It="RECOMMENDED_MOVIES_FETCH_SUCCESS",Ft="RECOMMENDED_MOVIES_FETCH_FAIL";var Ct=Object(P.a)((function(e){return{skeleton:{background:"rgb(181, 181, 181)"},icon:{color:"rgb(181, 181, 181)"}}}));var wt=function(){var e=Ct(),t=function(t){return Object(R.jsx)(le.a,{variant:"text",width:t,height:28,className:e.skeleton})},n=function(t){return Array.from(new Array(t)).map((function(t,n){return Object(R.jsx)(le.a,{variant:"text",width:100-8*Math.random()+"%",height:20,className:e.skeleton},n)}))};return Object(R.jsxs)(ue.a,{container:!0,spacing:7,children:[Object(R.jsx)(ue.a,{item:!0,md:3,children:Object(R.jsx)(le.a,{variant:"rect",height:356,style:{borderRadius:10},width:"100%",className:e.skeleton})}),Object(R.jsxs)(ue.a,{item:!0,md:8,style:{color:"white"},children:[Object(R.jsx)(le.a,{variant:"text",width:100,height:20,className:e.skeleton}),Object(R.jsx)(le.a,{variant:"text",width:300,height:34,className:e.skeleton}),Object(R.jsx)("div",{children:Object(R.jsx)(Ot.a,{value:4,classes:{iconEmpty:e.icon},readOnly:!0})}),t(50),n(4),Object(R.jsx)("br",{}),t(70),n(3)]})]})},Rt=function(e){return"".concat(e.getDay()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],", ").concat(e.getFullYear())},At=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},kt=Object(P.a)((function(e){return{container:{height:300,background:"#f3f3f3",borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center",color:"rgba(0, 0, 0, 0.25)"}}}));var Tt=function(e){var t=e.text,n=kt();return Object(R.jsx)("div",{className:n.container,children:Object(R.jsx)(G.a,{variant:"body1",children:t})})},Nt=n(149),Dt=n.n(Nt);var Lt=Object(P.a)((function(e){return{movieContainer:{paddingTop:50,paddingBottom:50},backdrop:{position:"absolute",height:"100%",width:"100%",zIndex:-1,"&:after":{position:"absolute",content:"''",display:"block",top:0,left:0,width:"100%",height:"100%",background:"rgba(30, 47, 60, 0.75)",backgroundImage:"radial-gradient(circle at 20% 50%, rgba(30, 47, 60, 0.75) 0%, rgba(48, 65, 78, 0.75) 100%)"}},backdropImage:{display:"block",width:"100%",height:"100%",objectFit:"cover"},poster:{width:"100%",borderRadius:10,boxShadow:"0px 3px 20px #0000003b"},releaseDate:{fontSize:"11pt",color:"#dadde2"},vote:{display:"flex",alignItems:"center",fontSize:"12pt"},genreList:{listStyle:"none",padding:0,display:"flex",flexWrap:"wrap"},genre:{cursor:"pointer",padding:"1px 6px",marginRight:10,border:"1px solid white",borderRadius:4,fontSize:"10pt"},subtitle:{marginBottom:8,fontSize:"13pt"},crewList:{listStyle:"none",padding:0}}}));function Ht(e){var t=e.movie,a=e.loaded,i=e.onFavorite,o=t.id,c=t.title,s=t.genres,l=t.duration,d=t.budget,u=t.backdropImageUrl,h=t.posterImageUrl,b=t.releaseDate,j=t.productionCountries,p=t.voteAverage,v=t.legend,g=t.overview,m=t.crew,O=(t.actors,t.isFavorite),f=Lt(),x=function(){window.open("/Page404")},y=h||n(141);return Object(R.jsxs)("main",{style:{position:"relative"},children:[Object(R.jsx)("div",{className:f.backdrop,children:Object(R.jsx)("img",{className:f.backdropImage,src:u,alt:"Backdrop of "+c})}),Object(R.jsx)(N.a,{className:f.movieContainer,children:a?Object(R.jsxs)(ue.a,{container:!0,spacing:7,children:[Object(R.jsx)(ue.a,{item:!0,md:3,children:Object(R.jsx)("img",{className:f.poster,src:y,alt:"Poster of "+c})}),Object(R.jsxs)(ue.a,{item:!0,md:9,style:{color:"white"},children:[Object(R.jsxs)("div",{className:f.releaseDate,children:[Rt(b)," (",j.join(", "),")"]}),Object(R.jsx)(G.a,{variant:"h4",style:{fontWeight:"bold"},component:"h1",children:c}),Object(R.jsx)("ul",{className:f.genreList,children:s.map((function(e){return Object(R.jsx)("li",{className:f.genre,children:e},e)}))}),Object(R.jsxs)("div",{className:f.vote,children:[Object(R.jsx)(Ot.a,{value:p/2,readOnly:!0}),Object(R.jsxs)("span",{style:{margin:"2px 0px 0 6px"},children:[p,"/10"]}),Object(R.jsxs)(w.a,{style:{marginLeft:16},onClick:function(){return i(o)},variant:O?"contained":"outlined",color:"secondary","aria-label":"like",children:[Object(R.jsx)(K.a,{})," Add to Favourites"]}),Object(R.jsx)(B.a,{to:"/Page404",style:{textDecoration:"none"},children:Object(R.jsxs)(w.a,{style:{marginLeft:25},variant:x?"contained":"outlined",color:"primary","aria-label":"like",children:[Object(R.jsx)(Dt.a,{})," Show Preview"]})}),Object(R.jsx)(B.a,{to:"/",style:{textDecoration:"none"},children:Object(R.jsxs)(w.a,{style:{color:"#1FAA59",marginLeft:"25px",textDecoration:"none"},variant:x?"contained":"outlined",children:[Object(R.jsx)(We.a,{})," Home"]})})]}),Object(R.jsxs)("div",{style:{marginTop:10},children:[Object(R.jsxs)(G.a,{component:"div",style:{marginRight:15},children:[Object(R.jsx)("b",{children:"Duration:"})," ",l," min."]}),Object(R.jsxs)(G.a,{component:"div",children:[Object(R.jsx)("b",{children:"Budget:"})," ",d?"$"+At(d):"-"]})]}),v&&Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsx)("h3",{className:f.subtitle,children:"Legend"}),Object(R.jsx)(G.a,{variant:"body1",children:v})]}),g&&Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsx)("h3",{className:f.subtitle,children:"Overview"}),Object(R.jsx)(G.a,{variant:"body1",children:g})]}),m.length&&Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsx)("h3",{className:f.subtitle,children:"Crew"}),Object(R.jsx)(ue.a,{container:!0,spacing:3,component:"ul",className:f.crewList,children:m.slice(0,4).map((function(e,t){return Object(R.jsxs)(ue.a,{item:!0,md:3,sm:6,component:"li",style:{paddingRight:16},children:[Object(R.jsx)(G.a,{variant:"body2",style:{fontWeight:"bold"},children:e.name}),Object(R.jsxs)(G.a,{variant:"body2",children:[e.department,", ",e.job]})]},t)}))})]})]})]}):Object(R.jsx)(wt,{})})]})}function Ut(e){var t=e.id,n=e.movie,r=e.entities,i=e.user,o=e.toggleFavorite,c=e.fetchSimilarMovies,s=e.fetchRecommendedMovies,l=n.recommendedMovies,d=n.similarMovies,u=l.ids.slice(0,6).map((function(e){return Re(e,r,i)})),h=d.ids.slice(0,6).map((function(e){return Re(e,r,i)})),b=Object(a.useCallback)((function(){return c(t)}),[t,c]),j=Object(a.useCallback)((function(){return s(t)}),[t,s]);return Object(R.jsxs)(N.a,{children:[Object(R.jsxs)("section",{children:[Object(R.jsx)("h2",{children:"Recommended movies"}),Object(R.jsx)(V.a,{height:400,children:Object(R.jsx)(Vt,{isFetching:l.isFetching,isFetched:l.isFetched,movies:u,amount:6,fetch:j,onFavorite:o})})]}),Object(R.jsxs)("section",{children:[Object(R.jsx)("h2",{children:"Similar movies"}),Object(R.jsx)(V.a,{height:400,children:Object(R.jsx)(Vt,{isFetching:d.isFetching,isFetched:d.isFetched,movies:h,amount:6,fetch:b,onFavorite:o})})]})]})}function Vt(e){var t=e.isFetching,n=e.isFetched,r=e.movies,i=void 0===r?[]:r,o=e.amount,c=e.fetch,s=e.onFavorite;return Object(a.useEffect)((function(){c()}),[c]),n&&!i.length?Object(R.jsx)(Tt,{text:"There is no data for this movie"}):Object(R.jsx)(ve,{placeholdersAmount:o,isFetching:t,isFetched:n,movies:i,onFavorite:s})}var Pt=Object(s.c)((function(e){var t=e.movie.isFetched?Re(e.movie.id,e.entities,e.user):{};return t=Object(H.a)(Object(H.a)({},t),e.movie),{isAppReady:e.common.isAppReady,movie:t,entities:e.entities,user:e.user}}),(function(e){return{fetchMovie:function(t){return e(function(e){return{type:"FETCH_MOVIE_PAGE",payload:null,meta:{target:x,method:"GET",url:"/movie/"+e,params:{append_to_response:"credits"},handlers:{request:ft,success:xt,fail:[I,yt]}}}}(t))},fetchSimilarMovies:function(t){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:"FETCH_SIMILAR_MOVIES",payload:null,meta:{target:x,method:"GET",url:"movie/".concat(e,"/similar"),params:{page:t},handlers:{request:Et,success:Mt,fail:[I,_t]}}}}(t))},fetchRecommendedMovies:function(t){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:"FETCH_RECOMMENDED_MOVIES",payload:null,meta:{target:x,method:"GET",url:"movie/".concat(e,"/recommendations"),params:{page:t},handlers:{request:St,success:It,fail:[I,Ft]}}}}(t))},toggleFavorite:function(t){return e(Ce(t))},makeMovieVisited:function(t){return e(function(e){return{type:Se,payload:{id:e}}}(t))}}}))((function(e){var t=Object(l.f)().id,n=e.isAppReady,i=e.movie,o=e.fetchMovie,c=e.toggleFavorite,s=e.makeMovieVisited;return Object(a.useEffect)((function(){o(t),window.scrollTo({top:0,left:0})}),[t,o]),Object(a.useEffect)((function(){i.isFetched&&s(i.id)}),[i.id,s]),Object(R.jsxs)(r.a.Fragment,{children:[Object(R.jsx)(Ht,{movie:i,loaded:n&&i.isFetched,onFavorite:c}),Object(R.jsx)(Ut,Object(H.a)(Object(H.a)({},e),{},{id:t}))]})})),Gt=n(150),Bt=Object(P.a)((function(e){return{container:{minHeight:"80vh",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},subtitle:{fontSize:"14pt"},action:{textDecoration:"none",color:"#0037ff",margin:6,"&:hover":{textDecoration:"underline"}}}}));var zt=function(e){var t=Bt();return Object(R.jsxs)(N.a,{className:t.container,children:[Object(R.jsx)(Gt.a,{src:"https://content.jwplatform.com/manifests/yp34SRmf.m3u8",autoPlay:!0,controls:!0,width:"100%",height:"auto"}),Object(R.jsxs)("div",{className:t.subtitle,children:["Go back to",Object(R.jsx)(B.a,{className:t.action,to:"/",children:"Home page."})]})]})},qt="MOVIE_FETCH_SUCCESS";var Wt=function(e){var t=e.id,n=e.movie,r=e.ready,i=e.fetch,o=e.onFavorite;return Object(a.useEffect)((function(){!n&&r&&i(t)}),[t,n,i,r]),n?Object(R.jsx)(ae,Object(H.a)(Object(H.a)({},n),{},{onFavorite:o})):Object(R.jsx)(de,{})};var Qt=Object(s.c)((function(e){return{isAppReady:e.common.isAppReady,movieIds:e.user.favoriteMovieIds,entities:e.entities,user:e.user}}),(function(e){return{fetchMovie:function(t){return e(function(e){return{type:"FETCH_MOVIE",payload:null,meta:{target:x,method:"GET",url:"/movie/"+e,params:{append_to_response:"credits"},handlers:{request:"MOVIE_FETCH_REQUEST",success:qt,fail:[I,"MOVIE_FETCH_FAIL"]}}}}(t))},toggleFavorite:function(t){return e(Ce(t))}}}))((function(e){var t=e.isAppReady,n=e.movieIds,a=e.entities,r=e.user,i=e.fetchMovie,o=e.toggleFavorite;return Object(R.jsxs)(N.a,{style:{margin:"20px auto",height:"100vh"},children:[Object(R.jsx)(G.a,{component:"h2",variant:"h4",style:{margin:"40px 0",color:"#fff"},children:"Favorite movies"}),!n.length&&Object(R.jsx)(Tt,{text:"You haven't marked favorite movies yet"}),!!n.length&&Object(R.jsx)(je,{children:n.map((function(e){var n=Re(e,a,r);return Object(R.jsx)(V.a,{minheight:400,once:!0,children:Object(R.jsx)(be,{children:Object(R.jsx)(Wt,{id:e,movie:n,fetch:i,ready:t,onFavorite:o})})},e)}))})]})})),Jt=n(282),Yt=n(275),$t=n(276),Kt=n(274),Xt=n(277),Zt=n(278),en=n(279),tn=Object(P.a)((function(e){return{list:{width:250},brand:{textDecoration:"none",color:"inherit"},text:{textAlign:"center",marginTop:"500px"},social:{marginRight:"15px",textAlign:"center"}}}));var nn=function(e){var t=e.open,n=e.onClose,a=tn();return Object(R.jsx)(Jt.a,{anchor:"left",variant:"temporary",open:t,onClose:n,children:Object(R.jsxs)(Ze.a,{className:a.list,children:[Object(R.jsxs)(et.a,{button:!0,children:[Object(R.jsx)(ze.a,{onClick:n,edge:"start",color:"inherit","aria-label":"menu",children:Object(R.jsx)(qe.a,{})}),Object(R.jsx)(G.a,{variant:"h6",noWrap:!0,children:Object(R.jsx)(B.a,{className:a.brand,to:"/",children:"Movie App \ud83d\udc4b"})})]},"favorite"),Object(R.jsx)(Kt.a,{}),Object(R.jsxs)(et.a,{component:B.a,to:"/favorites",button:!0,children:[Object(R.jsx)(Yt.a,{children:Object(R.jsx)(K.a,{})}),Object(R.jsx)($t.a,{primary:"Favorites"})]},"favorite"),Object(R.jsx)(et.a,{children:Object(R.jsx)(G.a,{variant:"h6",overflowWrap:!0,children:Object(R.jsx)($t.a,{className:a.text,to:"/",children:"This App is Made by Zafar Abbas"})})}),Object(R.jsxs)(et.a,{className:a.social,children:[Object(R.jsx)(B.a,{to:{pathname:"https://www.instagram.com/az.zzzafar/"},target:"_blank",children:Object(R.jsx)(Yt.a,{children:Object(R.jsx)(Xt.a,{})})}),Object(R.jsx)(B.a,{to:{pathname:"https://github.com/bts-zafar"},target:"_blank",children:Object(R.jsx)(Yt.a,{children:Object(R.jsx)(Zt.a,{})})}),Object(R.jsx)(B.a,{to:{pathname:"https://github.com/bts-zafar"},target:"_blank",children:Object(R.jsx)(Yt.a,{children:Object(R.jsx)(en.a,{})})})]})]})})};var an=Object(s.c)((function(e){return{isLoading:!e.common.isGenresLoaded||e.search.isFetching||e.movie.isFetching,errors:e.ui.errors,location:e.router.location.pathname}}),(function(e){return{fetchGenres:function(){return e({type:"FETCH_GENRES",payload:null,meta:{target:x,method:"GET",url:"genre/movie/list",params:null,handlers:{request:M,success:_,fail:[I,S]}}})}}}))((function(e){var t=e.isLoading,n=e.location,r=e.fetchGenres,i=Object(a.useState)(!1),o=Object(c.a)(i,2),s=o[0],h=o[1];return Object(a.useEffect)((function(){r()}),[r]),Object(a.useEffect)((function(){h(!1)}),[n]),Object(R.jsxs)(C.a,{autoHideDuration:3e4,children:[Object(R.jsx)(d.a,{}),Object(R.jsx)(k,{}),t&&Object(R.jsx)(u.a,{style:{position:"fixed",top:0,width:"100%",zIndex:9999}}),Object(R.jsx)(mt,{onMenu:function(){return h(!s)}}),Object(R.jsx)(nn,{open:s,onClose:function(){return h(!s)}}),Object(R.jsxs)(l.c,{children:[Object(R.jsx)(l.a,{exact:!0,path:"/",component:Pe}),Object(R.jsx)(l.a,{path:"/movie/:id",component:Pt}),Object(R.jsx)(l.a,{path:"/favorites",component:Qt}),Object(R.jsx)(l.a,{component:zt})]})]})})),rn=n(67),on=n(70),cn=n(29),sn=(n(221),n(142)),ln={isAppReady:!1,isGenresLoaded:!1};var dn=n(42),un="Something went wrong";function hn(e){return"string"===typeof e?e:e.isAxiosError?e.response?404===e.response.status?un:e.response.message?e.response.message:e.message:e.message||un:e.message?e.message:e.error?hn(e.error):un}var bn={errors:[]};var jn={visitedMovieIds:JSON.parse(localStorage.getItem("visitedMovies"))||[],favoriteMovieIds:JSON.parse(localStorage.getItem("favoriteMovies"))||[]};var pn={ids:[],isFetching:!0,isFetched:!1,totalMovies:0};function vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn,n=arguments.length>2?arguments[2]:void 0,a=n.type,r=n.payload;switch(a){case e+"_FETCH_REQUEST":return Object(H.a)(Object(H.a)({},t),{},{isFetching:!0});case e+"_FETCH_SUCCESS":var i=r.total_results,o=r.results,c=o.map((function(e){return e.id}));return{ids:[].concat(Object(dn.a)(t.ids),Object(dn.a)(c)),isFetching:!1,isFetched:!0,totalMovies:i};case e+"_FETCH_FAIL":return Object(H.a)(Object(H.a)({},t),{},{isFetching:!1,isFetched:!1});default:return t}}var gn={id:null,isFetching:!1,isFetched:!1,similarMovies:vn("SIMILAR_MOVIES",void 0,{}),recommendedMovies:vn("RECOMMENDED_MOVIES",void 0,{})};var mn={popularMovies:vn("POPULAR_MOVIES",void 0,{}),topRatedMovies:vn("TOP_RATED_MOVIES",void 0,{}),upcomingMovies:vn("UPCOMING_MOVIES",void 0,{})};var On=n(116),fn={moviesById:{},genresById:{}};var xn=n(22),yn={query:"",isFetching:!1,isFetched:!1,foundMovies:[]};function En(e){return e.filter((function(e){return!!e.title&&e.popularity>.25}))}var Mn=Object(cn.a)(),_n=Object(on.b)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case I:console.error(a.error);var r={id:g(),message:hn(a.error),date:new Date};return Object(H.a)(Object(H.a)({},e),{},{errors:[].concat(Object(dn.a)(e.errors),[r])});case F:var i=a.error.id;return Object(H.a)(Object(H.a)({},e),{},{errors:e.errors.filter((function(e){return e.id!==i}))});default:return e}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(t.payload,n){case M:case S:return Object(H.a)(Object(H.a)({},e),{},{isGenresLoaded:!1,isAppReady:!1});case _:return Object(H.a)(Object(H.a)({},e),{},{isGenresLoaded:!0,isAppReady:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Ie:var r,i=a.id,o=-1!==e.favoriteMovieIds.indexOf(i);return r=o?e.favoriteMovieIds.filter((function(e){return e!==i})):[i].concat(Object(dn.a)(e.favoriteMovieIds)),localStorage.setItem("favoriteMovies",JSON.stringify(r)),Object(H.a)(Object(H.a)({},e),{},{favoriteMovieIds:r});case Se:var c=a.id,s=Object(dn.a)(new Set([c].concat(Object(dn.a)(e.visitedMovieIds))));return localStorage.setItem("visitedMovies",JSON.stringify(s)),Object(H.a)(Object(H.a)({},e),{},{visitedMovieIds:s});case Fe:return localStorage.setItem("visitedMovies",JSON.stringify([])),Object(H.a)(Object(H.a)({},e),{},{visitedMovieIds:[]});default:return e}},movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case ft:return Object(H.a)(Object(H.a)({},gn),{},{isFetching:!0});case yt:return Object(H.a)(Object(H.a)({},e),{},{isFetched:!1,isFetching:!1});case xt:return Object(H.a)(Object(H.a)({},e),{},{id:a.id,isFetched:!0,isFetching:!1});case Et:case Mt:case _t:return Object(H.a)(Object(H.a)({},e),{},{similarMovies:vn("SIMILAR_MOVIES",e.similarMovies,t)});case St:case It:case Ft:return Object(H.a)(Object(H.a)({},e),{},{recommendedMovies:vn("RECOMMENDED_MOVIES",e.recommendedMovies,t)});default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(t.payload,n){case ge:case me:case Oe:return Object(H.a)(Object(H.a)({},e),{},{popularMovies:vn("POPULAR_MOVIES",e.popularMovies,t)});case fe:case xe:case ye:return Object(H.a)(Object(H.a)({},e),{},{topRatedMovies:vn("TOP_RATED_MOVIES",e.topRatedMovies,t)});case Ee:case Me:case _e:return Object(H.a)(Object(H.a)({},e),{},{upcomingMovies:vn("UPCOMING_MOVIES",e.upcomingMovies,t)});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case xn.b:return yn;case lt:return Object(H.a)(Object(H.a)({},e),{},{query:a.query});case it:return Object(H.a)(Object(H.a)({},e),{},{isFetching:!0,isFetched:!1,foundMovies:[]});case ot:var r=a.results.map((function(e){return Ae({raw:e,posterSize:"w154"})}));return r=En(r).sort((function(e,t){return t.popularity-e.popularity})),Object(H.a)(Object(H.a)({},e),{},{isFetching:!1,isFetched:!0,foundMovies:r});case ct:case st:return Object(H.a)(Object(H.a)({},e),{},{isFetching:!1,isFetched:!1,foundMovies:[]});default:return e}},entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case _:var r,i={},o=Object(On.a)(a.genres);try{for(o.s();!(r=o.n()).done;){var c=r.value;i[c.id]=c.name}}catch(p){o.e(p)}finally{o.f()}return Object(H.a)(Object(H.a)({},e),{},{genresById:i});case me:case xe:case Me:case Mt:case It:var s,l=Object(H.a)({},e.moviesById),d=Object(On.a)(a.results);try{for(d.s();!(s=d.n()).done;){var u=s.value,h=Ae({raw:u,extended:!1});l[u.id]&&l[u.id].isExtendedDataLoaded?l[u.id]=Object(H.a)(Object(H.a)({},l[u.id]),h):l[u.id]=h,l[u.id].fetchDate=new Date}}catch(p){d.e(p)}finally{d.f()}return Object(H.a)(Object(H.a)({},e),{},{moviesById:l});case xt:case qt:var b=Ae({raw:a,extended:!0}),j=Object(H.a)({},e.moviesById);return j[b.id]=b,j[b.id].fetchDate=new Date,Object(H.a)(Object(H.a)({},e),{},{moviesById:j});default:return e}},router:Object(rn.b)(Mn)}),Sn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||on.c,In=Object(on.d)(_n,Sn(Object(on.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return function(n){return function(){var a=Object(j.a)(b.a.mark((function a(r){var i,o,c,s,l,d,u,h,j,v,g;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=r.type,o=r.payload,(c=r.meta)&&c.target===x){a.next=3;break}return a.abrupt("return",n(r));case 3:if(c.handlers&&Object.keys(c.handlers).length){a.next=5;break}return a.abrupt("return",console.error("action must contain non empty 'meta' object with at least one handler",r));case 5:if(s=c.url,l=c.method,d=c.params,u=c.handlers,h=c.task||{isCancelled:!1,isDone:!1,isDummy:!0},j=function(e){for(var t,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return(t=console).log.apply(t,["%c[".concat(y,"]"),"font-weight: bold","[".concat(i,"]").concat(h.isDummy?"":" [".concat(h.id,"]"),": ").concat(e)].concat(a))},v=p.CancelToken.source(),!h.isDummy&&h.subscribe(O.events.CANCEL,(function(){v.cancel(),e&&j("Action has been canceled"),u.cancel&&m(u.cancel,null,t.dispatch)})),!h.isCancelled&&u.request&&(e&&j("Request handling",c,o),m(u.request,null,t.dispatch)),a.prev=11,"get"!==l.toLowerCase()){a.next=18;break}return a.next=15,E(s,d,v);case 15:g=a.sent,a.next=20;break;case 18:return console.error("Unknown request method: "+l,r),a.abrupt("return",n(r));case 20:u.success&&!h.isCancelled&&(e&&j("Success handling"),m(u.success,g.data,t.dispatch)),a.next=26;break;case 23:a.prev=23,a.t0=a.catch(11),h.isCancelled||(e&&j("Fail handling",a.t0),u.fail?m(u.fail,{error:a.t0},t.dispatch):console.error("Uncaught exception in ".concat(y,": "),a.t0));case 26:return a.prev=26,h.isDummy||h.isCancelled||h.done(),a.finish(26);case 29:case"end":return a.stop()}}),a,null,[[11,23,26,29]])})));return function(e){return a.apply(this,arguments)}}()}}}(),Object(sn.a)(Mn))));o.a.render(Object(R.jsx)(s.a,{store:In,children:Object(R.jsx)(rn.a,{history:Mn,children:Object(R.jsx)(an,{})})}),document.getElementById("root"))}},[[223,1,2]]]);
//# sourceMappingURL=main.989e3142.chunk.js.map